@using MaterialDesign.Web.Exceptions
@using MaterialDesign.Web.Services
@inject DynamicHeadStorage Storage

@code {
    [Parameter, EditorRequired] 
    public RenderFragment? ChildContent { get; set; }

    protected override void OnInitialized()
    {
        if (ChildContent is null)
            throw new ComponentException($"{nameof(DynamicHeadContent)} should have child content to add to the head.");
        
        Storage.UpdateContent(ChildContent);
    }
}